"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[536],{38114:(e,t,r)=>{var n=r(71600);t.Z=void 0;var a=n(r(68671)),o=r(52322),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=i},29754:(e,t,r)=>{var n=r(71600);t.Z=void 0;var a=n(r(68671)),o=r(52322),i=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},96511:(e,t,r)=>{var n=r(71600);t.Z=void 0;var a=n(r(68671)),o=r(52322),i=(0,a.default)((0,o.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");t.Z=i},92252:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(6620),a=r(52322);const o=(0,n.Z)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},66615:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(6620),a=r(52322);const o=(0,n.Z)((0,a.jsx)("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter")},54278:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(6620),a=r(52322);const o=(0,n.Z)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock")},40535:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(6620),a=r(52322);const o=(0,n.Z)((0,a.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen")},32510:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(6620),a=r(52322);const o=(0,n.Z)((0,a.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay")},107:(e,t,r)=>{r.d(t,{Z:()=>L});var n=r(31461),a=r(7896),o=r(2784),i=r(6277),l=r(69075),c=r(47591),s=r(65992),d=r(43853),Z=r(7342),u=r(17377),h=r(69222),p=r(15672);function f(e){return(0,p.Z)("MuiAlert",e)}const m=(0,h.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var v=r(85801),x=r(6620),g=r(52322);const y=(0,x.Z)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,x.Z)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=(0,x.Z)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=(0,x.Z)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var k=r(80592);const w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],z=(0,s.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,Z.Z)(r.color||r.severity)}`]]}})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode?c._j:c.$n,n="light"===e.palette.mode?c.$n:c._j,o=t.color||t.severity;return(0,a.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:r(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:n(e.palette[o].light,.9),[`& .${m.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&"outlined"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:r(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${m.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&"filled"===t.variant&&(0,a.Z)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)}))})),M=(0,s.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),A=(0,s.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$=(0,s.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),B={success:(0,g.jsx)(y,{fontSize:"inherit"}),warning:(0,g.jsx)(b,{fontSize:"inherit"}),error:(0,g.jsx)(C,{fontSize:"inherit"}),info:(0,g.jsx)(S,{fontSize:"inherit"})},L=o.forwardRef((function(e,t){var r,o,c,s,u,h;const p=(0,d.Z)({props:e,name:"MuiAlert"}),{action:m,children:x,className:y,closeText:b="Close",color:C,components:S={},componentsProps:L={},icon:P,iconMapping:E=B,onClose:j,role:I="alert",severity:X="success",slotProps:V={},slots:R={},variant:_="standard"}=p,H=(0,n.Z)(p,w),K=(0,a.Z)({},p,{color:C,severity:X,variant:_}),N=(e=>{const{variant:t,color:r,severity:n,classes:a}=e,o={root:["root",`${t}${(0,Z.Z)(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,l.Z)(o,f,a)})(K),W=null!=(r=null!=(o=R.closeButton)?o:S.CloseButton)?r:v.Z,D=null!=(c=null!=(s=R.closeIcon)?s:S.CloseIcon)?c:k.Z,G=null!=(u=V.closeButton)?u:L.closeButton,F=null!=(h=V.closeIcon)?h:L.closeIcon;return(0,g.jsxs)(z,(0,a.Z)({role:I,elevation:0,ownerState:K,className:(0,i.Z)(N.root,y),ref:t},H,{children:[!1!==P?(0,g.jsx)(M,{ownerState:K,className:N.icon,children:P||E[X]||B[X]}):null,(0,g.jsx)(A,{ownerState:K,className:N.message,children:x}),null!=m?(0,g.jsx)($,{ownerState:K,className:N.action,children:m}):null,null==m&&j?(0,g.jsx)($,{ownerState:K,className:N.action,children:(0,g.jsx)(W,(0,a.Z)({size:"small","aria-label":b,title:b,color:"inherit",onClick:j},G,{children:(0,g.jsx)(D,(0,a.Z)({fontSize:"small"},F))}))}):null]}))}))},23119:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(31461),a=r(7896),o=r(2784),i=r(6277),l=r(69075),c=r(7342),s=r(65992),d=r(43853),Z=r(8250),u=r(98659),h=r(62197),p=r(69222),f=r(15672);function m(e){return(0,f.Z)("MuiLink",e)}const v=(0,p.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var x=r(2818),g=r(47591);const y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=({theme:e,ownerState:t})=>{const r=(e=>y[e]||e)(t.color),n=(0,x.DW)(e,`palette.${r}`,!1)||t.color,a=(0,x.DW)(e,`palette.${r}Channel`);return"vars"in e&&a?`rgba(${a} / 0.4)`:(0,g.Fq)(n,.4)};var C=r(52322);const S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,s.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${(0,c.Z)(r.underline)}`],"button"===r.component&&t.button]}})((({theme:e,ownerState:t})=>(0,a.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,a.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:b({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${v.focusVisible}`]:{outline:"auto"}}))),w=o.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiLink"}),{className:s,color:h="primary",component:p="a",onBlur:f,onFocus:v,TypographyClasses:x,underline:g="always",variant:b="inherit",sx:w}=r,z=(0,n.Z)(r,S),{isFocusVisibleRef:M,onBlur:A,onFocus:$,ref:B}=(0,Z.Z)(),[L,P]=o.useState(!1),E=(0,u.Z)(t,B),j=(0,a.Z)({},r,{color:h,component:p,focusVisible:L,underline:g,variant:b}),I=(e=>{const{classes:t,component:r,focusVisible:n,underline:a}=e,o={root:["root",`underline${(0,c.Z)(a)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,l.Z)(o,m,t)})(j);return(0,C.jsx)(k,(0,a.Z)({color:h,className:(0,i.Z)(I.root,s),classes:x,component:p,onBlur:e=>{A(e),!1===M.current&&P(!1),f&&f(e)},onFocus:e=>{$(e),!0===M.current&&P(!0),v&&v(e)},ref:E,ownerState:j,variant:b,sx:[...Object.keys(y).includes(h)?[]:[{color:h}],...Array.isArray(w)?w:[w]]},z))}))},85213:(e,t,r)=>{r.d(t,{A:()=>p,Z:()=>h});var n=r(79906),a=r(33927),o=r(67550),i=r(62197),l=r(2784),c=r(21548),s=r(7300),d=r(83673),Z=r(21845),u=r(52903);function h({children:e,artifactSheet:t,numInSet:r=5}){return(0,u.tZ)(s.Z,{placement:"top",title:(0,u.tZ)(p,{artifactSheet:t,numInSet:r}),disableInteractive:!0,children:e})}function p({artifactSheet:e,numInSet:t=5}){return(0,u.tZ)(l.Suspense,{fallback:(0,u.tZ)(n.Z,{variant:"rectangular",width:100,height:100}),children:(0,u.tZ)(f,{artifactSheet:e,numInSet:t})})}function f({artifactSheet:e,numInSet:t=5}){const{t:r}=(0,c.$G)("sheet");return(0,u.tZ)(a.Z,{spacing:2,sx:{p:1},children:Object.keys(e.setEffects).map((n=>(0,u.BX)(o.Z,{sx:{opacity:parseInt(n)<=t?1:.5},children:[(0,u.tZ)(i.Z,{children:(0,u.tZ)(d.Z,{color:"success",children:r(`${n}set`)})}),(0,u.tZ)(i.Z,{children:(0,u.tZ)(Z.v,{ns:`artifact_${e.key}_gen`,key18:`setEffects.${n}`})})]},n)))})}},12121:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(67550),a=r(92794),o=r(19807),i=r(43397),l=r(29063),c=r(69190),s=r(10618),d=r(29432),Z=r(52903);const u=(0,s.X)([...c._m]),h=c._m.slice(0,6),p=c._m.slice(6);function f({selectedKeys:e,onChange:t}){const r=e.filter((e=>h.includes(e))),c=e.filter((e=>p.includes(e)));return(0,Z.BX)(n.Z,{display:"flex",gap:1,flexWrap:"wrap",children:[(0,Z.tZ)(d.Z,{value:r,sx:{flexGrow:1},children:h.map((r=>(0,Z.tZ)(a.Z,{sx:{flexGrow:1},size:"small",value:r,onClick:()=>t(u(e,r)),children:(0,Z.BX)(n.Z,{display:"flex",gap:1,alignItems:"center",children:[(0,Z.tZ)(i.C,{statKey:r,iconProps:l.m}),o.ZP.getArtStr(r)]})},r)))}),(0,Z.tZ)(d.Z,{value:c,sx:{flexGrow:1},children:p.map((r=>(0,Z.tZ)(a.Z,{sx:{flexGrow:1},size:"small",value:r,onClick:()=>t(u(e,r)),children:(0,Z.BX)(n.Z,{display:"flex",gap:1,alignItems:"center",children:[(0,Z.tZ)(i.C,{statKey:r,iconProps:l.m}),o.ZP.getArtStr(r)]})},r)))})]})}},43007:(e,t,r)=>{r.d(t,{W:()=>v});var n=r(65396),a=r(66615),o=r(79906),i=r(2784),l=r(21548),c=r(70630),s=r(25870),d=r(10002),Z=r(36893),u=r(86482),h=r(56748),p=r(52903);let f,m=e=>e;function v({location:e,setLocation:t,filter:r=(()=>!0),autoCompleteProps:v={}}){const{t:x}=(0,l.$G)(["ui","artifact","charNames_gen"]),{database:g}=(0,i.useContext)(s.t),{gender:y}=(0,d.Z)(),b=(0,i.useCallback)((e=>x(`charNames_gen:${(0,Z.LP)(g.chars.LocationToCharacterKey(e),y)}`)),[g,y,x]),C=(0,i.useCallback)((e=>""===e?(0,p.tZ)(a.Z,{}):(0,p.tZ)(h.Z,{src:(0,n.Li)(g.chars.LocationToCharacterKey(e),"iconSide",y),sx:{pr:1}})),[g,y]),S=(0,i.useCallback)((e=>"Traveler"===e?Z._0.some((e=>g.charMeta.get(e).favorite)):!!e&&g.charMeta.get(e).favorite),[g]),k=(0,i.useMemo)((()=>[{key:"",label:x(f||(f=m`artifact:filterLocation.inventory`))},...Array.from(new Set(g.chars.keys.filter((e=>!(0,c.m)(e,y)||r((0,c.m)(e,y)))).map((e=>(0,Z.V7)(e))))).map((e=>({key:e,label:b(e),favorite:S(e)}))).sort(((e,t)=>e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:e.label.localeCompare(t.label)))]),[x,b,S,g,r,y]);return(0,p.tZ)(i.Suspense,{fallback:(0,p.tZ)(o.Z,{variant:"text",width:100}),children:(0,p.tZ)(u._,Object.assign({size:"small",options:k,valueKey:e,onChange:e=>t(null!=e?e:""),toImg:C},v))})}},50301:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(65396),a=r(62197),o=r(70630),i=r(10002),l=r(7300),c=r(20353),s=r(52903);function d({characterKey:e}){const{gender:t}=(0,i.Z)(),r=(0,o.m)(e,t);return r?(0,s.tZ)(l.Z,{placement:"right-end",title:(0,s.tZ)(a.Z,{children:r.name}),children:(0,s.tZ)(c.Z,{src:(0,n.Li)(e,"iconSide",t),size:3})}):null}},37923:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(66615),a=r(62197),o=r(67550),i=r(2784),l=r(21548),c=r(70630),s=r(25870),d=r(10002),Z=r(50301),u=r(52903);function h({location:e}){const{t}=(0,l.$G)("ui"),{database:r}=(0,i.useContext)(s.t),{gender:h}=(0,d.Z)(),p=(0,i.useMemo)((()=>e?(0,c.m)(r.chars.LocationToCharacterKey(e),h):void 0),[e,h,r]);return(0,u.tZ)(a.Z,{component:"span",children:e&&null!=p&&p.name?(0,u.BX)(o.Z,{children:[(0,u.tZ)(Z.Z,{characterKey:r.chars.LocationToCharacterKey(e)}),p.name]}):(0,u.BX)("span",{children:[(0,u.tZ)(n.Z,{sx:{verticalAlign:"text-bottom"}})," ",t("inventory")]})})}},20353:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(65992).ZP)("img",{name:"ImgIcon",slot:"Root",shouldForwardProp:e=>!["size","sideMargin"].includes(e)})((({size:e=2,sideMargin:t=!1})=>({display:"inline-block",width:`${e}em`,height:`${e}em`,marginTop:.85*(1-e)+"em",marginBottom:.15*(1-e)+"em",marginLeft:t?.5*(1-e)+"em":void 0,marginRight:t?.5*(1-e)+"em":void 0,verticalAlign:"text-bottom"})))},45220:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(83673),a=r(41015),o=r(52903);function i({value:e,max:t=1,valid:r}){const[i,l]="number"==typeof e?[`roll${(0,a.uZ)(Math.floor(e/t*10)-4,1,6)}`,e.toFixed()+"%"]:["secondary",e];return(0,o.tZ)(n.Z,{color:r?i:"error",children:l})}},85563:(e,t,r)=>{r.d(t,{N:()=>U,Z:()=>J});var n=r(65396),a=r(54278),o=r(40535),i=r(38114),l=r(22698),c=r(29754),s=r(96511),d=r(75213),Z=r(67550),u=r(79906),h=r(62197),p=r(85801),f=r(66198),m=r(7671),v=r(38553),x=r(83249),g=r(2784),y=r(21548),b=r(85213),C=r(15378),S=r(7300),k=r(67937),w=r(43007),z=r(37923),M=r(2344),A=r(57889),$=r(82334),B=r(45220),L=r(71765),P=r(61420),E=r(54878),j=r(25870),I=r(19807),X=r(43397),V=r(53163),R=r(29063),_=r(69190),H=r(82799),K=r(41015),N=r(52903);let W,D,G,F,T=e=>e;const O=(0,g.lazy)((()=>Promise.all([r.e(293),r.e(592),r.e(794),r.e(122)]).then(r.bind(r,26617)))),q=new Set(_._m);function J({artifactId:e,artifactObj:t,onClick:r,onDelete:R,mainStatAssumptionLevel:K=0,effFilter:J=q,editorProps:U,canExclude:Y=!1,canEquip:ee=!1,extraButtons:te}){var re,ne,ae;const{t:oe}=(0,y.$G)(["artifact","ui"]),{database:ie}=(0,g.useContext)(j.t),le=(0,V.Z)(e),ce=null==(re=null!=t?t:le)?void 0:re.setKey,se=ce&&(0,P.Sk)(ce),de=(0,g.useCallback)((t=>e&&ie.arts.set(e,{location:t})),[ie,e]),Ze=!t,[ue,he]=(0,g.useState)(!1),pe=(0,g.useCallback)((()=>he(!1)),[he]),fe=(0,g.useCallback)((()=>Ze&&he(!0)),[Ze,he]),me=(0,g.useCallback)((t=>(0,N.tZ)(d.Z,{onClick:()=>e&&(null==r?void 0:r(e)),sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:t})),[r,e]),ve=(0,g.useCallback)((e=>(0,N.tZ)(Z.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})),[]),xe=null!=t?t:le,{currentEfficiency:ge,maxEfficiency:ye,currentEfficiency_:be,maxEfficiency_:Ce}=(0,g.useMemo)((()=>{if(!xe)return{currentEfficiency:0,maxEfficiency:0,currentEfficiency_:0,maxEfficiency_:0};const{currentEfficiency:e,maxEfficiency:t}=E.ZP.getArtifactEfficiency(xe,J),{currentEfficiency:r,maxEfficiency:n}=E.ZP.getArtifactEfficiency(xe,new Set(_._m));return{currentEfficiency:e,maxEfficiency:t,currentEfficiency_:r,maxEfficiency_:n}}),[xe,J]);if(!xe)return null;const{id:Se,lock:ke,slotKey:we,setKey:ze,rarity:Me,level:Ae,mainStatKey:$e,substats:Be,exclude:Le,location:Pe=""}=xe,Ee=Math.max(Math.min(K,4*Me),Ae),je=I.ZP.unit($e),Ie=0!==ye,Xe=null==se?void 0:se.getSlotName(we),Ve=null==se?void 0:se.getSlotDesc(we),Re=Ve&&(0,N.tZ)($.Z,{title:(0,N.BX)(Z.Z,{children:[(0,N.tZ)(g.Suspense,{fallback:(0,N.tZ)(u.Z,{variant:"text",width:100}),children:(0,N.tZ)(h.Z,{variant:"h6",children:Xe})}),(0,N.tZ)(h.Z,{children:Ve})]})}),_e=H.fR.find((e=>$e.startsWith(e)));return(0,N.BX)(g.Suspense,{fallback:(0,N.tZ)(u.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:[U&&(0,N.tZ)(g.Suspense,{fallback:!1,children:(0,N.tZ)(O,Object.assign({artifactIdToEdit:ue?e:"",cancelEdit:pe},U))}),(0,N.BX)(k.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,N.BX)(A.Z,{condition:!!r,wrapper:me,falseWrapper:ve,children:[(0,N.BX)(Z.Z,{className:`grad-${Me}star`,sx:{position:"relative",width:"100%"},children:[!r&&(0,N.tZ)(p.Z,{color:"primary",disabled:!Ze,onClick:()=>ie.arts.set(Se,{lock:!ke}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:ke?(0,N.tZ)(a.Z,{}):(0,N.tZ)(o.Z,{})}),(0,N.BX)(Z.Z,{sx:{pt:2,px:2,position:"relative",zIndex:1},children:[(0,N.BX)(Z.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:.4,mb:1},children:[(0,N.tZ)(f.Z,{size:"small",label:(0,N.tZ)("strong",{children:` +${Ae}`}),color:E.ZP.levelVariant(Ae)}),!Xe&&(0,N.tZ)(u.Z,{variant:"text",width:100}),Xe&&(0,N.tZ)(h.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1.5},children:(0,N.tZ)("strong",{children:Xe})}),Re||(0,N.tZ)(u.Z,{width:10})]}),(0,N.BX)(h.Z,{paddingBottom:1,color:"text.secondary",variant:"body2",sx:{display:"flex",gap:.5,alignItems:"center"},children:[(0,N.tZ)(C.Z,{iconProps:{fontSize:"inherit"},slotKey:we}),oe(`slotName.${we}`)]}),(0,N.BX)(h.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,N.tZ)(X.C,{statKey:$e,iconProps:{sx:{color:`${_e}.main`}}}),(0,N.tZ)("span",{children:I.ZP.get($e)})]}),(0,N.tZ)(h.Z,{variant:"h5",children:(0,N.tZ)("strong",{children:(0,N.BX)(M.Z,{color:Ee!==Ae?"warning":void 0,children:[(0,I.qs)(null!=(ne=E.ZP.mainStatValue($e,Me,Ee))?ne:0,I.ZP.unit($e)),je]})})}),(0,N.tZ)(L.q,{stars:Me,colored:!0})]}),(0,N.tZ)(Z.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,N.tZ)(Z.Z,{component:"img",src:(0,n.Hp)(ze,we),width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,N.BX)(m.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0,width:"100%"},children:[Be.map((e=>!!e.value&&(0,N.tZ)(Q,{stat:e,effFilter:J,rarity:Me},e.key))),(0,N.BX)(h.Z,{variant:"caption",sx:{display:"flex",gap:1,my:1},children:[(0,N.tZ)(M.Z,{color:"secondary",sx:{flexGrow:1},children:oe(W||(W=T`artifact:editor.curSubEff`))}),(0,N.tZ)(B.Z,{value:ge,max:900,valid:Ie}),ge!==be&&(0,N.tZ)("span",{children:"/"}),ge!==be&&(0,N.tZ)(B.Z,{value:be,max:900,valid:Ie})]}),ge!==ye&&(0,N.BX)(h.Z,{variant:"caption",sx:{display:"flex",gap:1},children:[(0,N.tZ)(M.Z,{color:"secondary",sx:{flexGrow:1},children:oe(D||(D=T`artifact:editor.maxSubEff`))}),(0,N.tZ)(B.Z,{value:ye,max:900,valid:Ie}),ye!==Ce&&(0,N.tZ)("span",{children:"/"}),ye!==Ce&&(0,N.tZ)(B.Z,{value:Ce,max:900,valid:Ie})]}),(0,N.tZ)(Z.Z,{flexGrow:1}),void 0!==xe.probability&&xe.probability>=0&&(0,N.BX)("strong",{children:["Probability: ",(100*xe.probability).toFixed(2),"%"]}),(0,N.BX)(h.Z,{color:"success.main",children:[null!=(ae=null==se?void 0:se.name)?ae:"Artifact Set"," ",se&&(0,N.tZ)($.L,{title:(0,N.tZ)(b.A,{artifactSheet:se})})]})]})]}),(0,N.BX)(Z.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,N.tZ)(Z.Z,{sx:{flexGrow:1},children:Ze&&ee?(0,N.tZ)(w.W,{location:Pe,setLocation:de}):(0,N.tZ)(z.Z,{location:Pe})}),Ze&&(0,N.BX)(v.Z,{sx:{height:"100%"},children:[U&&(0,N.tZ)(S.Z,{title:(0,N.tZ)(h.Z,{children:oe(G||(G=T`artifact:edit`))}),placement:"top",arrow:!0,children:(0,N.tZ)(x.Z,{color:"info",size:"small",onClick:fe,sx:{borderRadius:"4px 0px 0px 4px"},children:(0,N.tZ)(c.Z,{})})}),Y&&(0,N.tZ)(S.Z,{title:(0,N.BX)(Z.Z,{children:[(0,N.tZ)(h.Z,{children:oe(F||(F=T`artifact:excludeArtifactTip`))}),(0,N.tZ)(h.Z,{children:(0,N.tZ)(M.Z,{color:Le?"error":"success",children:oe("artifact:"+(Le?"excluded":"included"))})})]}),placement:"top",arrow:!0,children:(0,N.tZ)(x.Z,{onClick:()=>ie.arts.set(Se,{exclude:!Le}),color:Le?"error":"success",size:"small",sx:{borderRadius:"4px 0px 0px 4px"},children:Le?(0,N.tZ)(i.Z,{}):(0,N.tZ)(s.Z,{})})}),!!R&&(0,N.tZ)(S.Z,{title:ke?oe("artifact:cantDeleteLock"):"",placement:"top",children:(0,N.tZ)("span",{children:(0,N.tZ)(x.Z,{color:"error",size:"small",sx:{height:"100%",borderRadius:"0px 4px 4px 0px"},onClick:()=>R(Se),disabled:ke,children:(0,N.tZ)(l.Z,{})})})}),te]})]})]})]})}function Q({stat:e,effFilter:t,rarity:r}){var n,a,o;const i=null!=(n=null==(a=e.rolls)?void 0:a.length)?n:0,l=e.key?E.ZP.substatValue(e.key):0,c=(0,g.useMemo)((()=>e.key?E.ZP.getSubstatRollData(e.key,r):[]),[e.key,r]),s=7-c.length,d=`roll${(0,K.uZ)(i,1,6)}`,u=null!=(o=e.efficiency)?o:0,p=e.key&&t.has(e.key),f=(0,K.V2)(.5+u/500*.5),m=I.ZP.getStr(e.key),v=I.ZP.unit(e.key),x=(0,g.useMemo)((()=>(0,N.tZ)(Z.Z,{display:"flex",gap:.25,height:"1.3em",sx:{opacity:p?1:.3},children:[...e.rolls].sort().map(((e,t)=>(0,N.tZ)(U,{value:100*e/l,color:`roll${(0,K.uZ)(s+c.indexOf(e),1,6)}.main`},`${t}${e}`)))})),[p,e.rolls,l,c,s]);return(0,N.BX)(Z.Z,{display:"flex",gap:1,alignContent:"center",children:[(0,N.BX)(h.Z,{sx:{flexGrow:1},color:i?`${d}.main`:"error.main",component:"span",children:[(0,N.tZ)(X.C,{statKey:e.key,iconProps:R.m})," ",m,`+${(0,I.qs)(e.value,I.ZP.unit(e.key))}${v}`]}),x,(0,N.BX)(h.Z,{sx:{opacity:f,minWidth:40,textAlign:"right"},children:[u.toFixed(),"%"]})]})}function U({color:e="red",value:t=50}){return(0,N.tZ)(Z.Z,{sx:{width:7,height:"100%",bgcolor:e,overflow:"hidden",borderRadius:1,display:"inline-block"},children:(0,N.tZ)(Z.Z,{sx:{width:10,height:100-(0,K.uZ)(t,0,100)+"%",bgcolor:"gray"}})})}},53163:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(2784),a=r(25870);function o(e=""){const{database:t}=(0,n.useContext)(a.t),[r,o]=(0,n.useState)(t.arts.get(e));return(0,n.useEffect)((()=>o(t.arts.get(e))),[t,e]),(0,n.useEffect)((()=>e?t.arts.follow(e,((e,t,r)=>"update"===t&&o(r))):void 0),[e,o,t]),r}}}]);